<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-03T08:02:14.618198"><title>Chapitre 2 : Les Fondamentaux de REST - L'Essentiel | Spring REST</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs Pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-le-code-de-la-route-du-web","level":0,"title":"Introduction : Le Code de la Route du Web","anchor":"#introduction-le-code-de-la-route-du-web"},{"id":"qu-est-ce-que-rest","level":0,"title":"Qu\u0027est-ce que REST ?","anchor":"#qu-est-ce-que-rest"},{"id":"cr-er-notre-premier-contr-leur","level":0,"title":"Créer notre Premier Contrôleur","anchor":"#cr-er-notre-premier-contr-leur"},{"id":"tester-notre-endpoint","level":0,"title":"Tester notre Endpoint","anchor":"#tester-notre-endpoint"},{"id":"exercice-2-cr-er-l-endpoint-pour-les-auteurs","level":0,"title":"Exercice 2 : Créer l\u0027Endpoint pour les Auteurs","anchor":"#exercice-2-cr-er-l-endpoint-pour-les-auteurs"},{"id":"correction-exercice-2","level":0,"title":"Correction exercice 2","anchor":"#correction-exercice-2"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion","level":0,"title":"Conclusion","anchor":"#conclusion"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Chapitre 2 : Les Fondamentaux de REST - L'Essentiel | Spring REST"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Spring REST Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/001-00-rest-intro.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Chapitre 2 : Les Fondamentaux de REST - L'Essentiel | Spring REST"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/001-00-rest-intro.html#webpage",
    "url": "writerside-documentation/001-00-rest-intro.html",
    "name": "Chapitre 2 : Les Fondamentaux de REST - L'Essentiel | Spring REST",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Spring REST Help"
}</script><!-- End Schema.org --></head><body data-id="001-00-rest-intro" data-main-title="Chapitre 2 : Les Fondamentaux de REST - L'Essentiel" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Spring REST  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="001-00-rest-intro" id="001-00-rest-intro.md">Chapitre 2 : Les Fondamentaux de REST - L'Essentiel</h1><p id="mgwv5l_3">Maintenant que notre projet &quot;BiblioTech&quot; est sur les rails, il est temps de comprendre les plans de l'architecte. Ces plans, c'est l'architecture REST. Nous allons d&eacute;couvrir ses principes fondamentaux et, surtout, nous allons &eacute;crire nos premi&egrave;res lignes de code pour exposer nos donn&eacute;es au monde ext&eacute;rieur.</p><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs P&eacute;dagogiques</h2><p id="mgwv5l_13">&Agrave; la fin de cette partie, vous serez capable de :</p><ul class="list _bullet" id="mgwv5l_14"><li class="list__item" id="mgwv5l_15"><p id="mgwv5l_21">D&eacute;finir ce qu'est une API REST et ses principes cl&eacute;s.</p></li><li class="list__item" id="mgwv5l_16"><p id="mgwv5l_22">Comprendre la notion de &quot;ressource&quot; et son identification via une URI.</p></li><li class="list__item" id="mgwv5l_17"><p id="mgwv5l_23">Conna&icirc;tre les principaux verbes HTTP (GET, POST, PUT, DELETE) et leur s&eacute;mantique.</p></li><li class="list__item" id="mgwv5l_18"><p id="mgwv5l_24">Cr&eacute;er votre premier contr&ocirc;leur Spring Boot pour exposer des donn&eacute;es.</p></li><li class="list__item" id="mgwv5l_19"><p id="mgwv5l_25">Impl&eacute;menter un endpoint <code class="code" id="mgwv5l_26">GET</code> pour r&eacute;cup&eacute;rer une liste de ressources.</p></li><li class="list__item" id="mgwv5l_20"><p id="mgwv5l_27">Tester cet endpoint avec un client HTTP.</p></li></ul></section><section class="chapter"><h2 id="introduction-le-code-de-la-route-du-web" data-toc="introduction-le-code-de-la-route-du-web">Introduction : Le Code de la Route du Web</h2><p id="mgwv5l_28">Imaginez un instant un monde sans code de la route. Ce serait le chaos, n'est-ce pas ? Chacun conduirait comme bon lui semble, rendant les d&eacute;placements impr&eacute;visibles et dangereux.</p><p id="mgwv5l_29">Une API REST, c'est un peu le <span class="control" id="mgwv5l_31">code de la route de la communication entre applications</span>. Ce n'est pas une technologie ou un langage, mais un ensemble de r&egrave;gles et de bonnes pratiques (un &quot;style architectural&quot;) qui garantit que tout le monde se comprend. Quand un client (une application mobile, un site web) &quot;parle&quot; &agrave; un serveur (notre application Spring Boot), ils suivent ces r&egrave;gles. Le r&eacute;sultat ? Une communication fluide, pr&eacute;visible et standardis&eacute;e.</p><p id="mgwv5l_30">C'est gr&acirc;ce &agrave; ces r&egrave;gles que votre application mobile bancaire peut interroger votre solde, que votre application m&eacute;t&eacute;o peut r&eacute;cup&eacute;rer les pr&eacute;visions, et que notre future application &quot;BiblioTech&quot; pourra lister tous les livres disponibles.</p></section><section class="chapter"><h2 id="qu-est-ce-que-rest" data-toc="qu-est-ce-que-rest">Qu'est-ce que REST ?</h2><p id="mgwv5l_32">REST est l'acronyme de <span class="control" id="mgwv5l_37">RE</span>presentational <span class="control" id="mgwv5l_38">S</span>tate <span class="control" id="mgwv5l_39">T</span>ransfer. D&eacute;cortiquons cela :</p><ul class="list _bullet" id="mgwv5l_33"><li class="list__item" id="mgwv5l_40"><p id="mgwv5l_43"><span class="control" id="mgwv5l_44">Resource (Ressource)</span>: C'est le concept central. Dans notre projet, un livre, un auteur, une biblioth&egrave;que sont des ressources. C'est un objet ou une donn&eacute;e suffisamment importante pour qu'on lui donne une &quot;adresse&quot;. Cette adresse est une <span class="control" id="mgwv5l_45">URI</span> (Uniform Resource Identifier). Par exemple, <code class="code" id="mgwv5l_46">/api/books/1</code> pourrait &ecirc;tre l'URI du livre avec l'ID 1.</p></li><li class="list__item" id="mgwv5l_41"><p id="mgwv5l_47"><span class="control" id="mgwv5l_48">Representational (Repr&eacute;sentation)</span>: Lorsque vous demandez une ressource au serveur, il ne vous envoie pas l'objet Java ou la ligne de la base de donn&eacute;es. Il vous envoie une <span class="control" id="mgwv5l_49">repr&eacute;sentation</span> de cette ressource, g&eacute;n&eacute;ralement au format <span class="control" id="mgwv5l_50">JSON</span> (JavaScript Object Notation) ou XML. C'est une description textuelle de l'&eacute;tat de la ressource &agrave; un instant T.</p></li><li class="list__item" id="mgwv5l_42"><p id="mgwv5l_51"><span class="control" id="mgwv5l_52">State Transfer (Transfert d'&Eacute;tat)</span>: C'est l'action de transf&eacute;rer la repr&eacute;sentation de l'&eacute;tat d'une ressource du serveur vers le client (ou inversement).</p></li></ul><p id="mgwv5l_34">En r&eacute;sum&eacute;, un client demande au serveur l'&eacute;tat d'une ressource via son URI, et le serveur lui renvoie une repr&eacute;sentation de cet &eacute;tat.</p><section class="chapter"><h3 id="les-piliers-de-l-architecture-rest" data-toc="les-piliers-de-l-architecture-rest">Les Piliers de l'Architecture REST</h3><p id="mgwv5l_53">Pour qu'une API soit consid&eacute;r&eacute;e comme &quot;RESTful&quot;, elle doit respecter plusieurs contraintes. La plus importante pour nous au d&eacute;but est :</p><p id="mgwv5l_54"><span class="control" id="mgwv5l_55">L'absence d'&eacute;tat (Stateless)</span>: Le serveur ne conserve aucune information sur le client entre deux requ&ecirc;tes. Chaque requ&ecirc;te envoy&eacute;e par le client doit contenir toutes les informations n&eacute;cessaires pour que le serveur la comprenne et la traite. C'est comme parler &agrave; quelqu'un qui a une m&eacute;moire &agrave; tr&egrave;s court terme : vous devez vous repr&eacute;senter &agrave; chaque phrase. Cela rend l'application beaucoup plus simple &agrave; faire &eacute;voluer et &agrave; distribuer sur plusieurs serveurs ( scalabilit&eacute;).</p></section><section class="chapter"><h3 id="les-verbes-http-le-langage-de-l-action" data-toc="les-verbes-http-le-langage-de-l-action">Les Verbes HTTP : Le Langage de l'Action</h3><p id="mgwv5l_56">Pour interagir avec les ressources, REST s'appuie sur le protocole HTTP et ses &quot;verbes&quot; (ou m&eacute;thodes). Chaque verbe a une signification pr&eacute;cise.</p><div class="table-wrapper"><table class="wide" id="mgwv5l_57"><thead><tr class="ijRowHead" id="mgwv5l_59"><th id="mgwv5l_65"><p>Verbe HTTP</p></th><th id="mgwv5l_66"><p>Action CRUD</p></th><th id="mgwv5l_67"><p>Description</p></th></tr></thead><tbody><tr id="mgwv5l_60"><td id="mgwv5l_68"><p><span class="control" id="mgwv5l_71">GET</span></p></td><td id="mgwv5l_69"><p><span class="control" id="mgwv5l_72">R</span>ead</p></td><td id="mgwv5l_70"><p>R&eacute;cup&eacute;rer une ressource ou une collection de ressources.</p></td></tr><tr id="mgwv5l_61"><td id="mgwv5l_73"><p><span class="control" id="mgwv5l_76">POST</span></p></td><td id="mgwv5l_74"><p><span class="control" id="mgwv5l_77">C</span>reate</p></td><td id="mgwv5l_75"><p>Cr&eacute;er une nouvelle ressource.</p></td></tr><tr id="mgwv5l_62"><td id="mgwv5l_78"><p><span class="control" id="mgwv5l_81">PUT</span></p></td><td id="mgwv5l_79"><p><span class="control" id="mgwv5l_82">U</span>pdate</p></td><td id="mgwv5l_80"><p>Mettre &agrave; jour int&eacute;gralement une ressource existante.</p></td></tr><tr id="mgwv5l_63"><td id="mgwv5l_83"><p><span class="control" id="mgwv5l_86">DELETE</span></p></td><td id="mgwv5l_84"><p><span class="control" id="mgwv5l_87">D</span>elete</p></td><td id="mgwv5l_85"><p>Supprimer une ressource.</p></td></tr><tr id="mgwv5l_64"><td id="mgwv5l_88"><p><span class="control" id="mgwv5l_91">PATCH</span></p></td><td id="mgwv5l_89"><p><span class="control" id="mgwv5l_92">U</span>pdate</p></td><td id="mgwv5l_90"><p>Mettre &agrave; jour partiellement une ressource existante.</p></td></tr></tbody></table></div><aside class="prompt" data-type="tip" data-title="Idempotence et Sécurité" id="mgwv5l_58"><p id="mgwv5l_93">Deux concepts importants :</p><ul class="list _bullet" id="mgwv5l_94"><li class="list__item" id="mgwv5l_95"><p>Une op&eacute;ration est <b id="mgwv5l_97">s&ucirc;re (safe)</b> si elle ne modifie pas l'&eacute;tat du serveur. <b id="mgwv5l_98">GET</b> est une m&eacute;thode s&ucirc;re.</p></li><li class="list__item" id="mgwv5l_96"><p>Une op&eacute;ration est <b id="mgwv5l_99">idempotente</b> si la r&eacute;p&eacute;ter plusieurs fois produit le m&ecirc;me effet que de l'appeler une seule fois. <b id="mgwv5l_100">GET</b>, <b id="mgwv5l_101">PUT</b> et <b id="mgwv5l_102">DELETE</b> sont idempotentes. <b id="mgwv5l_103">POST</b> ne l'est pas (chaque appel cr&eacute;e une nouvelle ressource).</p></li></ul></aside></section></section><section class="chapter"><h2 id="cr-er-notre-premier-contr-leur" data-toc="cr-er-notre-premier-contr-leur">Cr&eacute;er notre Premier Contr&ocirc;leur</h2><p id="mgwv5l_104">Assez de th&eacute;orie, passons &agrave; la pratique ! Nous allons cr&eacute;er un &quot;endpoint&quot; (un point de terminaison de l'API) qui retournera la liste de tous les livres de notre biblioth&egrave;que.</p><p id="mgwv5l_105">Pour cela, nous cr&eacute;ons une classe sp&eacute;ciale : un <span class="control" id="mgwv5l_108">Contr&ocirc;leur</span>.</p><section class="procedure-steps"><h3 id="mgwv5l_106" data-toc="mgwv5l_106">Création du BookController</h3><ol class="list _decimal" id="mgwv5l_109" type="1"><li class="list__item" id="mgwv5l_112"><p id="mgwv5l_114">Cr&eacute;ez un nouveau package <code class="code" id="mgwv5l_115">fr.formation.spring.bibliotech.api</code>.</p></li><li class="list__item" id="mgwv5l_113"><p id="mgwv5l_116">&Agrave; l'int&eacute;rieur, cr&eacute;ez une classe <code class="code" id="mgwv5l_117">BookController.java</code>.</p></li></ol><div class="code-block" data-lang="java">
// package fr.formation.spring.bibliotech.api;

import fr.formation.spring.bibliotech.dal.entities.Book;
import fr.formation.spring.bibliotech.dal.repositories.BookRepository;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;

// @RestController combine @Controller et @ResponseBody.
// Il indique que cette classe gère des requêtes web et que les 
// retours de méthodes seront directement écrits dans la réponse HTTP.
@RestController
// @RequestMapping définit l'URI de base pour toutes les méthodes 
// de ce contrôleur.
@RequestMapping(&quot;/api/books&quot;)
public class BookController {

    private final BookRepository bookRepository;

    // Injection de dépendance du repository pour accéder aux données.
    public BookController(BookRepository bookRepository) {
        this.bookRepository = bookRepository;
    }

    // @GetMapping indique que cette méthode répond aux requêtes HTTP GET.
    // L'URL complète sera donc : GET /api/books
    @GetMapping
    public List&lt;Book&gt; getAllBooks() {
        // Spring Data JPA nous offre findAll() pour récupérer tous les 
        // enregistrements.
        return this.bookRepository.findAll();
    }
}
</div><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="627px" preserveAspectRatio="none" style="width:453px;height:627px;background:#FFFFFF;" version="1.1" viewBox="0 0 453 627" width="453px" zoomAndPan="magnify"><defs/><g><!--cluster fr--><g id="cluster_fr"><path d="M8.5,6 L21.5,6 A3.75,3.75 0 0 1 24,8.5 L31,28.4883 L443.5,28.4883 A2.5,2.5 0 0 1 446,30.9883 L446,618.48 A2.5,2.5 0 0 1 443.5,620.98 L8.5,620.98 A2.5,2.5 0 0 1 6,618.48 L6,8.5 A2.5,2.5 0 0 1 8.5,6 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="31" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="12" x="10" y="21.5352">fr</text></g><!--cluster formation--><g id="cluster_formation"><path d="M32.5,49 L105.5,49 A3.75,3.75 0 0 1 108,51.5 L115,71.4883 L419.5,71.4883 A2.5,2.5 0 0 1 422,73.9883 L422,594.48 A2.5,2.5 0 0 1 419.5,596.98 L32.5,596.98 A2.5,2.5 0 0 1 30,594.48 L30,51.5 A2.5,2.5 0 0 1 32.5,49 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="30" x2="115" y1="71.4883" y2="71.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="72" x="34" y="64.5352">formation</text></g><!--cluster spring--><g id="cluster_spring"><path d="M56.5,92 L103.5,92 A3.75,3.75 0 0 1 106,94.5 L113,114.4883 L395.5,114.4883 A2.5,2.5 0 0 1 398,116.9883 L398,570.48 A2.5,2.5 0 0 1 395.5,572.98 L56.5,572.98 A2.5,2.5 0 0 1 54,570.48 L54,94.5 A2.5,2.5 0 0 1 56.5,92 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="54" x2="113" y1="114.4883" y2="114.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="46" x="58" y="107.5352">spring</text></g><!--cluster bibliotech--><g id="cluster_bibliotech"><path d="M80.5,135 L153.5,135 A3.75,3.75 0 0 1 156,137.5 L163,157.4883 L371.5,157.4883 A2.5,2.5 0 0 1 374,159.9883 L374,546.48 A2.5,2.5 0 0 1 371.5,548.98 L80.5,548.98 A2.5,2.5 0 0 1 78,546.48 L78,137.5 A2.5,2.5 0 0 1 80.5,135 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="78" x2="163" y1="157.4883" y2="157.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="72" x="82" y="150.5352">bibliotech</text></g><!--cluster api--><g id="cluster_api"><path d="M110.5,178 L133.5,178 A3.75,3.75 0 0 1 136,180.5 L143,200.4883 L341.5,200.4883 A2.5,2.5 0 0 1 344,202.9883 L344,290.99 A2.5,2.5 0 0 1 341.5,293.49 L110.5,293.49 A2.5,2.5 0 0 1 108,290.99 L108,180.5 A2.5,2.5 0 0 1 110.5,178 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="108" x2="143" y1="200.4883" y2="200.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="22" x="112" y="193.5352">api</text></g><!--cluster dal--><g id="cluster_dal"><path d="M104.5,342.49 L127.5,342.49 A3.75,3.75 0 0 1 130,344.99 L137,364.9783 L347.5,364.9783 A2.5,2.5 0 0 1 350,367.4783 L350,522.48 A2.5,2.5 0 0 1 347.5,524.98 L104.5,524.98 A2.5,2.5 0 0 1 102,522.48 L102,344.99 A2.5,2.5 0 0 1 104.5,342.49 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="102" x2="137" y1="364.9783" y2="364.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="22" x="106" y="358.0252">dal</text></g><!--cluster repositories--><g id="cluster_repositories"><path d="M128.5,385.49 L216.5,385.49 A3.75,3.75 0 0 1 219,387.99 L226,407.9783 L323.5,407.9783 A2.5,2.5 0 0 1 326,410.4783 L326,498.48 A2.5,2.5 0 0 1 323.5,500.98 L128.5,500.98 A2.5,2.5 0 0 1 126,498.48 L126,387.99 A2.5,2.5 0 0 1 128.5,385.49 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="126" x2="226" y1="407.9783" y2="407.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="130" y="401.0252">repositories</text></g><!--class BookController--><g id="elem_BookController"><rect codeLine="3" fill="#F1F1F1" height="64.4883" id="BookController" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="204" x="124" y="213"/><ellipse cx="169.75" cy="229" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M172.7231,234.6431 Q172.1421,234.9419 171.5029,235.0913 Q170.8638,235.2407 170.1582,235.2407 Q167.6514,235.2407 166.3315,233.5889 Q165.0117,231.937 165.0117,228.8159 Q165.0117,225.6865 166.3315,224.0347 Q167.6514,222.3828 170.1582,222.3828 Q170.8638,222.3828 171.5112,222.5322 Q172.1587,222.6816 172.7231,222.9805 L172.7231,225.7031 Q172.0923,225.1221 171.4988,224.8523 Q170.9053,224.5825 170.2744,224.5825 Q168.9297,224.5825 168.2449,225.6492 Q167.5601,226.7158 167.5601,228.8159 Q167.5601,230.9077 168.2449,231.9744 Q168.9297,233.041 170.2744,233.041 Q170.9053,233.041 171.4988,232.7712 Q172.0923,232.5015 172.7231,231.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="190.25" y="234.291">BookController</text><line style="stroke:#181818;stroke-width:0.5;" x1="125" x2="327" y1="245" y2="245"/><line style="stroke:#181818;stroke-width:0.5;" x1="125" x2="327" y1="253" y2="253"/><ellipse cx="135" cy="266.7441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="144" y="270.5352">getAllBooks(): List&lt;Book&gt;</text></g><!--class BookRepository--><g id="elem_BookRepository"><rect codeLine="9" fill="#F1F1F1" height="64.4883" id="BookRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="142" y="420.49"/><ellipse cx="170.05" cy="436.49" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M165.9777,432.2551 L165.9777,430.0969 L173.3571,430.0969 L173.3571,432.2551 L170.8918,432.2551 L170.8918,440.3318 L173.3571,440.3318 L173.3571,442.49 L165.9777,442.49 L165.9777,440.3318 L168.4431,440.3318 L168.4431,432.2551 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="107" x="186.95" y="441.781">BookRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="143" x2="309" y1="452.49" y2="452.49"/><line style="stroke:#181818;stroke-width:0.5;" x1="143" x2="309" y1="460.49" y2="460.49"/><ellipse cx="153" cy="474.2341" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="162" y="478.0252">findAll(): List&lt;Book&gt;</text></g><!--link BookController to BookRepository--><g id="link_BookController_BookRepository"><path codeLine="14" d="M226,277.9 C226,316.52 226,375.41 226,414.04 " fill="none" id="BookController-to-BookRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="226,420.04,230,411.04,226,415.04,222,411.04,226,420.04" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="227" y="323.0584">utilise</text></g><!--SRC=[ZSwn2i903CRn_PuYT5Aazm152khgv1jShsaDFIz7BWuYVNVRYWx5mJ7y8RylEJ-u7g7en7OiDwV4qUOa57lRK1E85VtLkaG5F0s03ovdE38F9uug70BA4W1sqACUGfXZtcmhE5FM_NpLKn_DQ4pwasjTi8A9CoaBONxR51MbSnuN__BfZw_VKMod0R_jrUQohDTlAhWh1Shu0W00]--></g></svg></div><ol class="list _decimal"></ol></section><aside class="prompt" data-type="note" data-title="Magie de Spring Boot !" id="mgwv5l_107"><p id="mgwv5l_118">Vous avez remarqu&eacute; ? Nous retournons une <code class="code" id="mgwv5l_119">List&lt;Book&gt;</code>, un objet Java. Spring Boot, gr&acirc;ce &agrave; la d&eacute;pendance <b id="mgwv5l_120">spring-boot-starter-web</b>, d&eacute;tecte la pr&eacute;sence de la librairie <b id="mgwv5l_121">Jackson</b> et convertit automatiquement notre liste d'objets Java en une cha&icirc;ne de caract&egrave;res au format JSON !</p></aside></section><section class="chapter"><h2 id="tester-notre-endpoint" data-toc="tester-notre-endpoint">Tester notre Endpoint</h2><p id="mgwv5l_122">Maintenant que notre endpoint est cr&eacute;&eacute;, comment savoir s'il fonctionne ?</p><p id="mgwv5l_123">Relancez votre application, puis utilisez un client HTTP pour envoyer une requ&ecirc;te. Si vous utilisez IntelliJ IDEA Ultimate, vous pouvez utiliser le client HTTP int&eacute;gr&eacute;.</p><section class="procedure-steps"><h3 id="mgwv5l_124" data-toc="mgwv5l_124">Requête HTTP avec IntelliJ</h3><ol class="list _decimal" id="mgwv5l_126" type="1"><li class="list__item" id="mgwv5l_131"><p id="mgwv5l_133">Cr&eacute;ez un nouveau fichier dans votre projet, par exemple <code class="code" id="mgwv5l_134">requests.http</code>.</p></li><li class="list__item" id="mgwv5l_132"><p id="mgwv5l_135">Ajoutez le code suivant :</p></li></ol><div class="code-block" data-lang="http">
### Récupérer tous les livres
GET http://localhost:8080/api/books
Accept: application/json
</div><ol class="list _decimal" id="mgwv5l_128" type="1" start="3"><li class="list__item" id="mgwv5l_136"><p id="mgwv5l_137">Cliquez sur la petite ic&ocirc;ne de lecture verte &agrave; c&ocirc;t&eacute; de la requ&ecirc;te pour l'ex&eacute;cuter.</p></li></ol><p id="mgwv5l_129">Vous devriez recevoir une r&eacute;ponse avec un code <code class="code" id="mgwv5l_138">200 OK</code> et un corps de r&eacute;ponse (body) contenant la liste de vos livres au format JSON :</p><div class="code-block" data-lang="json">
[
  {
    &quot;id&quot;: 1,
    &quot;title&quot;: &quot;Harry Potter and the Sorcerer's Stone&quot;,
    &quot;isbn&quot;: &quot;978-0439708180&quot;,
    &quot;publicationDate&quot;: &quot;1997-06-26&quot;,
    &quot;authors&quot;: [
      {
        &quot;id&quot;: 1,
        &quot;firstName&quot;: &quot;J.K.&quot;,
        &quot;lastName&quot;: &quot;Rowling&quot;,
        &quot;books&quot;: []
      }
    ]
  },
  {
    &quot;id&quot;: 2,
    &quot;title&quot;: &quot;The Hobbit&quot;,
    &quot;isbn&quot;: &quot;978-0345339683&quot;,
    &quot;publicationDate&quot;: &quot;1937-09-21&quot;,
    &quot;authors&quot;: [
      {
        &quot;id&quot;: 2,
        &quot;firstName&quot;: &quot;J.R.R.&quot;,
        &quot;lastName&quot;: &quot;Tolkien&quot;,
        &quot;books&quot;: []
      }
    ]
  }
]
</div><ol class="list _decimal"></ol></section><aside class="prompt" data-type="warning" data-title="Boucles infinies en JSON" id="mgwv5l_125"><p id="mgwv5l_139">Avez-vous remarqu&eacute; que dans la r&eacute;ponse, la propri&eacute;t&eacute; <code class="code" id="mgwv5l_140">books</code> de l'auteur est vide ? Si elle n'&eacute;tait pas vide, Jackson essaierait de s&eacute;rialiser les livres de l'auteur, qui eux-m&ecirc;mes contiennent l'auteur, qui contient ses livres, etc. C'est une <b id="mgwv5l_141">boucle infinie</b>! Nous apprendrons &agrave; g&eacute;rer cela proprement avec les DTO (Data Transfer Objects) dans un prochain chapitre.</p></aside></section><section class="chapter"><h2 id="exercice-2-cr-er-l-endpoint-pour-les-auteurs" data-toc="exercice-2-cr-er-l-endpoint-pour-les-auteurs">Exercice 2 : Cr&eacute;er l'Endpoint pour les Auteurs</h2><p id="mgwv5l_142">C'est &agrave; votre tour de jouer ! Mettez en pratique ce que vous venez d'apprendre.</p><p id="mgwv5l_143"><span class="control" id="mgwv5l_145">&Eacute;nonc&eacute; :</span></p><ol class="list _decimal" id="mgwv5l_144" type="1"><li class="list__item" id="mgwv5l_146"><p id="mgwv5l_151">Cr&eacute;ez une nouvelle classe <code class="code" id="mgwv5l_152">AuthorController</code> dans le package <code class="code" id="mgwv5l_153">fr.formation.spring.bibliotech.api</code>.</p></li><li class="list__item" id="mgwv5l_147"><p id="mgwv5l_154">Configurez ce contr&ocirc;leur pour qu'il r&eacute;ponde &agrave; l'URI de base <code class="code" id="mgwv5l_155">/api/authors</code>.</p></li><li class="list__item" id="mgwv5l_148"><p id="mgwv5l_156">Injectez le <code class="code" id="mgwv5l_157">AuthorRepository</code>.</p></li><li class="list__item" id="mgwv5l_149"><p id="mgwv5l_158">Impl&eacute;mentez une m&eacute;thode qui r&eacute;pond aux requ&ecirc;tes <code class="code" id="mgwv5l_159">GET</code> sur <code class="code" id="mgwv5l_160">/api/authors</code> et qui retourne la liste de tous les auteurs de la base de donn&eacute;es.</p></li><li class="list__item" id="mgwv5l_150"><p id="mgwv5l_161">Testez votre nouvel endpoint avec une requ&ecirc;te HTTP et v&eacute;rifiez que vous recevez bien la liste des auteurs au format JSON.</p></li></ol></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="correction-exercice-2" data-toc="correction-exercice-2">Correction exercice 2</h2></div><div class="collapse__content"><p id="mgwv5l_162">Voici la solution pour l'exercice.</p><ol class="list _decimal" id="mgwv5l_163" type="1"><li class="list__item" id="mgwv5l_170"><p id="mgwv5l_171"><span class="control" id="mgwv5l_172">Le contr&ocirc;leur <code class="code" id="mgwv5l_173">AuthorController.java</code>:</span></p></li></ol><div class="code-block" data-lang="java">
// package fr.formation.spring.bibliotech.api;

import fr.formation.spring.bibliotech.dal.entities.Author;
import fr.formation.spring.bibliotech.dal.repositories.AuthorRepository;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;

@RestController
@RequestMapping(&quot;/api/authors&quot;)
public class AuthorController {

    private final AuthorRepository authorRepository;

    public AuthorController(AuthorRepository authorRepository) {
        this.authorRepository = authorRepository;
    }

    @GetMapping
    public List&lt;Author&gt; getAllAuthors() {
        return this.authorRepository.findAll();
    }
}
</div><ol class="list _decimal" id="mgwv5l_165" type="1" start="2"><li class="list__item" id="mgwv5l_174"><p id="mgwv5l_175"><span class="control" id="mgwv5l_176">La requ&ecirc;te de test <code class="code" id="mgwv5l_177">requests.http</code>:</span></p></li></ol><div class="code-block" data-lang="http">
### Récupérer tous les auteurs
GET http://localhost:8080/api/authors
Accept: application/json
</div><ol class="list _decimal" id="mgwv5l_167" type="1" start="3"><li class="list__item" id="mgwv5l_178"><p id="mgwv5l_179"><span class="control" id="mgwv5l_180">La r&eacute;ponse attendue (JSON) :</span></p></li></ol><div class="code-block" data-lang="json">
[
  {
    &quot;id&quot;: 1,
    &quot;firstName&quot;: &quot;J.K.&quot;,
    &quot;lastName&quot;: &quot;Rowling&quot;,
    &quot;books&quot;: [
      {
        &quot;id&quot;: 1,
        &quot;title&quot;: &quot;Harry Potter and the Sorcerer's Stone&quot;,
        &quot;isbn&quot;: &quot;978-0439708180&quot;,
        &quot;publicationDate&quot;: &quot;1997-06-26&quot;,
        &quot;authors&quot;: []
      }
    ]
  },
  {
    &quot;id&quot;: 2,
    &quot;firstName&quot;: &quot;J.R.R.&quot;,
    &quot;lastName&quot;: &quot;Tolkien&quot;,
    &quot;books&quot;: [
      {
        &quot;id&quot;: 2,
        &quot;title&quot;: &quot;The Hobbit&quot;,
        &quot;isbn&quot;: &quot;978-0345339683&quot;,
        &quot;publicationDate&quot;: &quot;1937-09-21&quot;,
        &quot;authors&quot;: []
      }
    ]
  }
]
</div><p id="mgwv5l_169">Vous avez r&eacute;ussi ? Excellent travail ! Vous ma&icirc;trisez maintenant la cr&eacute;ation d'endpoints de lecture.</p></div></div></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><ol class="list _decimal" id="mgwv5l_181" type="1"><li class="list__item" id="mgwv5l_182"><p id="mgwv5l_187"><span class="control" id="mgwv5l_188">(QCM)</span> Que signifie l'acronyme REST ? a) Remote Execution State Transfer b) Representational State Transfer c) Resource Standard Template d) Representational Standard Type</p></li><li class="list__item" id="mgwv5l_183"><p id="mgwv5l_189"><span class="control" id="mgwv5l_190">_ (Question ouverte)_</span> Qu'est-ce qu'une &quot;ressource&quot; dans une API REST ? Donnez un exemple tir&eacute; de notre projet &quot; BiblioTech&quot;.</p></li><li class="list__item" id="mgwv5l_184"><p id="mgwv5l_191"><span class="control" id="mgwv5l_192">(QCM)</span> Quelle annotation Spring Boot est utilis&eacute;e pour mapper une m&eacute;thode de contr&ocirc;leur &agrave; une requ&ecirc;te HTTP GET ? a) <code class="code" id="mgwv5l_193">@Request</code> b) <code class="code" id="mgwv5l_194">@Get</code> c) <code class="code" id="mgwv5l_195">@GetMapping</code> d) <code class="code" id="mgwv5l_196">@Controller</code></p></li><li class="list__item" id="mgwv5l_185"><p id="mgwv5l_197"><span class="control" id="mgwv5l_198">_ (Question ouverte)_</span> Expliquez le principe &quot;Stateless&quot; (sans &eacute;tat) en une ou deux phrases. Pourquoi est-ce un avantage ?</p></li><li class="list__item" id="mgwv5l_186"><p id="mgwv5l_199"><span class="control" id="mgwv5l_200">_ (Question ouverte)_</span> Si vous vouliez cr&eacute;er un endpoint pour lister toutes les biblioth&egrave;ques, quelle URI de base choisiriez-vous pour le contr&ocirc;leur, en suivant les conventions REST ?</p></li></ol></section><section class="chapter"><h2 id="conclusion" data-toc="conclusion">Conclusion</h2><p id="mgwv5l_201">F&eacute;licitations ! Vous avez fait un grand pas en avant. Vous &ecirc;tes pass&eacute; de la th&eacute;orie abstraite de REST &agrave; la pratique concr&egrave;te en cr&eacute;ant vos premiers endpoints. Vous savez maintenant comment :</p><ul class="list _bullet" id="mgwv5l_202"><li class="list__item" id="mgwv5l_204"><p id="mgwv5l_208">Structurer un contr&ocirc;leur REST dans Spring Boot.</p></li><li class="list__item" id="mgwv5l_205"><p id="mgwv5l_209">Utiliser les annotations <code class="code" id="mgwv5l_210">@RestController</code>, <code class="code" id="mgwv5l_211">@RequestMapping</code>, et <code class="code" id="mgwv5l_212">@GetMapping</code>.</p></li><li class="list__item" id="mgwv5l_206"><p id="mgwv5l_213">Exposer des donn&eacute;es via une API en retournant simplement des objets Java.</p></li><li class="list__item" id="mgwv5l_207"><p id="mgwv5l_214">Tester vos cr&eacute;ations.</p></li></ul><p id="mgwv5l_203">Vous avez ouvert la premi&egrave;re porte de communication de votre application. Mais une API ne sert pas qu'&agrave; lire des donn&eacute;es. Dans la partie suivante, &quot;Pour aller plus loin&quot;, nous verrons comment rendre notre API interactive : cr&eacute;er, mettre &agrave; jour et supprimer des ressources. Nous allons donner vie &agrave; notre API</p></section><div class="last-modified">28 juin 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="00-00-chapitre-1-intro-et-projet.html" class="navigation-links__prev">Chapitre 1 : Introduction et Pr&eacute;sentation du Projet Fil Rouge</a><a href="001-01-rest-crud.html" class="navigation-links__next">Chapitre 2 : Interagir avec les Ressources - Pour aller plus loin</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>