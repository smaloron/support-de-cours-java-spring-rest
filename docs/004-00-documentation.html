<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-06-27T16:21:41.767037"><title>Chapitre 5 : Documentation des API avec OpenAPI - L'Essentiel | Help Instance</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs Pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-le-mode-d-emploi-de-votre-api","level":0,"title":"Introduction : Le Mode d\u0027Emploi de Votre API","anchor":"#introduction-le-mode-d-emploi-de-votre-api"},{"id":"int-gration-de-springdoc-openapi","level":0,"title":"Intégration de springdoc-openapi","anchor":"#int-gration-de-springdoc-openapi"},{"id":"enrichir-la-documentation","level":0,"title":"Enrichir la Documentation","anchor":"#enrichir-la-documentation"},{"id":"documenter-les-mod-les-dtos","level":0,"title":"Documenter les Modèles (DTOs)","anchor":"#documenter-les-mod-les-dtos"},{"id":"exercice-7-documenter-l-api-des-auteurs","level":0,"title":"Exercice 7 : Documenter l\u0027API des Auteurs","anchor":"#exercice-7-documenter-l-api-des-auteurs"},{"id":"correction-exercice-7","level":0,"title":"Correction exercice 7","anchor":"#correction-exercice-7"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion","level":0,"title":"Conclusion","anchor":"#conclusion"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Chapitre 5 : Documentation des API avec OpenAPI - L'Essentiel | Help Instance"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Help Instance Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/004-00-documentation.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Chapitre 5 : Documentation des API avec OpenAPI - L'Essentiel | Help Instance"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/004-00-documentation.html#webpage",
    "url": "writerside-documentation/004-00-documentation.html",
    "name": "Chapitre 5 : Documentation des API avec OpenAPI - L'Essentiel | Help Instance",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Help Instance Help"
}</script><!-- End Schema.org --></head><body data-id="004-00-documentation" data-main-title="Chapitre 5 : Documentation des API avec OpenAPI - L'Essentiel" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Help Instance  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="004-00-documentation" id="004-00-documentation.md">Chapitre 5 : Documentation des API avec OpenAPI - L'Essentiel</h1><p id="lb3h7r_3">Vous avez b&acirc;ti une API REST magnifique. Elle est bien structur&eacute;e, elle g&egrave;re les erreurs avec &eacute;l&eacute;gance, elle est s&eacute;curis&eacute;e... Mais comment les autres d&eacute;veloppeurs (ceux qui vont l'utiliser dans une application front-end ou un autre service) vont-ils savoir comment s'en servir ? Allez-vous leur envoyer un document Word de 20 pages ? Ou pire, leur dire de &quot;lire le code&quot; ? Certainement pas ! Il nous faut un moyen de g&eacute;n&eacute;rer une documentation vivante, interactive et toujours &agrave; jour.</p><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs P&eacute;dagogiques</h2><p id="lb3h7r_13">&Agrave; la fin de cette partie, vous serez capable de :</p><ul class="list _bullet" id="lb3h7r_14"><li class="list__item" id="lb3h7r_15"><p id="lb3h7r_20">Comprendre ce qu'est la sp&eacute;cification OpenAPI (anciennement Swagger).</p></li><li class="list__item" id="lb3h7r_16"><p id="lb3h7r_21">Int&eacute;grer la biblioth&egrave;que <code class="code" id="lb3h7r_22">springdoc-openapi</code> dans un projet Spring Boot.</p></li><li class="list__item" id="lb3h7r_17"><p id="lb3h7r_23">Acc&eacute;der &agrave; l'interface utilisateur de Swagger pour explorer et tester votre API.</p></li><li class="list__item" id="lb3h7r_18"><p id="lb3h7r_24">Enrichir la documentation g&eacute;n&eacute;r&eacute;e automatiquement avec des annotations pour la rendre plus descriptive et utile.</p></li><li class="list__item" id="lb3h7r_19"><p id="lb3h7r_25">D&eacute;crire les mod&egrave;les de donn&eacute;es (DTOs) pour clarifier la signification de chaque champ.</p></li></ul></section><section class="chapter"><h2 id="introduction-le-mode-d-emploi-de-votre-api" data-toc="introduction-le-mode-d-emploi-de-votre-api">Introduction : Le Mode d'Emploi de Votre API</h2><p id="lb3h7r_26">Imaginez que vous venez d'acheter un appareil &eacute;lectronique complexe, mais il est livr&eacute; sans aucun mode d'emploi. Ce serait une exp&eacute;rience tr&egrave;s frustrante. Vous devriez deviner &agrave; quoi sert chaque bouton, ce qui est une perte de temps et source d'erreurs.</p><p id="lb3h7r_27">Une API sans documentation, c'est la m&ecirc;me chose. La sp&eacute;cification <span class="control" id="lb3h7r_29">OpenAPI</span> est une norme industrielle pour d&eacute;crire les API REST. Elle permet de d&eacute;finir les endpoints, les param&egrave;tres, les corps de requ&ecirc;te, les r&eacute;ponses possibles, les sch&eacute;mas de donn&eacute;es, etc., dans un format standardis&eacute; (JSON ou YAML).</p><p id="lb3h7r_28">L'outil <span class="control" id="lb3h7r_30">Swagger UI</span> peut alors lire ce fichier de description et g&eacute;n&eacute;rer une interface web interactive magnifique. C'est un v&eacute;ritable &quot;mode d'emploi&quot; pour votre API, qui permet non seulement de lire la documentation mais aussi d'essayer les endpoints directement depuis le navigateur.</p></section><section class="chapter"><h2 id="int-gration-de-springdoc-openapi" data-toc="int-gration-de-springdoc-openapi">Int&eacute;gration de <code class="code" id="lb3h7r_39">springdoc-openapi</code></h2><p id="lb3h7r_32">Heureusement pour nous, int&eacute;grer OpenAPI dans un projet Spring Boot est d'une simplicit&eacute; d&eacute;concertante gr&acirc;ce &agrave; la biblioth&egrave;que <code class="code" id="lb3h7r_40">springdoc-openapi</code>. Elle va scanner notre code (contr&ocirc;leurs, DTOs, annotations de validation) et g&eacute;n&eacute;rer la sp&eacute;cification OpenAPI pour nous, sans effort.</p><section class="procedure-steps"><h3 id="lb3h7r_33" data-toc="lb3h7r_33">Ajout de la dépendance springdoc-openapi</h3><p id="lb3h7r_41">Ouvrez votre fichier <code class="code" id="lb3h7r_43">pom.xml</code> et ajoutez la d&eacute;pendance suivante :</p><div class="code-block" data-lang="markup">
&lt;!-- Dans la section &lt;dependencies&gt; --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;
    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;
    &lt;version&gt;2.5.0&lt;/version&gt;
&lt;/dependency&gt;
</div><ol class="list _decimal"></ol></section><p id="lb3h7r_34">Et... c'est tout ! Vraiment.</p><p id="lb3h7r_35">Relancez votre application. Maintenant, ouvrez votre navigateur et acc&eacute;dez &agrave; ces deux nouvelles URLs :</p><ol class="list _decimal" id="lb3h7r_36" type="1"><li class="list__item" id="lb3h7r_44"><p id="lb3h7r_46"><span class="control" id="lb3h7r_47">L'interface Swagger UI :</span> <code class="code" id="lb3h7r_48">http://localhost:8080/swagger-ui.html</code></p></li><li class="list__item" id="lb3h7r_45"><p id="lb3h7r_49"><span class="control" id="lb3h7r_50">La sp&eacute;cification OpenAPI brute (JSON) :</span> <code class="code" id="lb3h7r_51">http://localhost:8080/v3/api-docs</code></p></li></ol><p id="lb3h7r_37">Vous devriez voir une page web listant automatiquement tous vos contr&ocirc;leurs (<code class="code" id="lb3h7r_52">BookController</code>, <code class="code" id="lb3h7r_53">AuthorController</code>) et tous leurs endpoints. Vous pouvez d&eacute;plier chaque endpoint pour voir ses d&eacute;tails et m&ecirc;me utiliser le bouton &quot;Try it out&quot; pour l'ex&eacute;cuter.</p><aside class="prompt" data-type="note" data-title="Magie !" id="lb3h7r_38"><p id="lb3h7r_54"><code class="code" id="lb3h7r_56">springdoc-openapi</code> a analys&eacute; :</p><ul class="list _bullet" id="lb3h7r_55"><li class="list__item" id="lb3h7r_57"><p>Vos <code class="code" id="lb3h7r_63">@RestController</code> et <code class="code" id="lb3h7r_64">@RequestMapping</code> pour trouver les endpoints.</p></li><li class="list__item" id="lb3h7r_58"><p>Vos <code class="code" id="lb3h7r_65">@GetMapping</code>, <code class="code" id="lb3h7r_66">@PostMapping</code>, etc., pour les verbes HTTP.</p></li><li class="list__item" id="lb3h7r_59"><p>Vos <code class="code" id="lb3h7r_67">@PathVariable</code> et <code class="code" id="lb3h7r_68">@RequestBody</code> pour les param&egrave;tres.</p></li><li class="list__item" id="lb3h7r_60"><p>Les types de retour (<code class="code" id="lb3h7r_69">BookDto</code>, <code class="code" id="lb3h7r_70">ResponseEntity</code>) pour les r&eacute;ponses possibles.</p></li><li class="list__item" id="lb3h7r_61"><p>Vos annotations de validation (<code class="code" id="lb3h7r_71">@NotBlank</code>) pour d&eacute;crire les contraintes.</p></li><li class="list__item" id="lb3h7r_62"><p>Votre <code class="code" id="lb3h7r_72">@RestControllerAdvice</code> pour documenter les r&eacute;ponses d'erreur communes (404, 400...).</p></li></ul></aside></section><section class="chapter"><h2 id="enrichir-la-documentation" data-toc="enrichir-la-documentation">Enrichir la Documentation</h2><p id="lb3h7r_73">La documentation g&eacute;n&eacute;r&eacute;e automatiquement est un excellent point de d&eacute;part, mais elle peut &ecirc;tre un peu &quot;s&egrave;che&quot;. Nous pouvons l'enrichir avec des descriptions humaines en utilisant les annotations de <code class="code" id="lb3h7r_75">springdoc</code>.</p><section class="procedure-steps"><h3 id="lb3h7r_74" data-toc="lb3h7r_74">Ajout de descriptions au BookController</h3><p id="lb3h7r_76">Ajoutons des annotations <code class="code" id="lb3h7r_78">@Operation</code> et <code class="code" id="lb3h7r_79">@ApiResponse</code> pour rendre la m&eacute;thode <code class="code" id="lb3h7r_80">getBookById</code> plus claire.</p><div class="code-block" data-lang="java">
// Dans BookController.java

import io.swagger.v3.oas.annotations.Operation;
import io.swagger.v3.oas.annotations.media.Content;
import io.swagger.v3.oas.annotations.media.Schema;
import io.swagger.v3.oas.annotations.responses.ApiResponse;
import io.swagger.v3.oas.annotations.responses.ApiResponses;
import io.swagger.v3.oas.annotations.tags.Tag;

// ...

@Tag(name = &quot;Livres&quot;, description = &quot;API pour la gestion des livres&quot;)
@RestController
@RequestMapping(&quot;/api/books&quot;)
public class BookController {

    // ...

    @Operation(summary = &quot;Récupère un livre par son ID&quot;,
            description = &quot;Retourne un seul livre basé sur son identifiant unique.&quot;)
    @ApiResponses(value = {
            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Livre trouvé&quot;,
                    content = {@Content(mediaType = &quot;application/json&quot;,
                            schema = @Schema(implementation = BookDto.class))}),
            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Livre non trouvé&quot;,
                    content = @Content) // Pas de corps de réponse pour 404
    })
    @GetMapping(&quot;/{id}&quot;)
    public ResponseEntity&lt;BookDto&gt; getBookById(@PathVariable Long id) {
        Book book = this.bookRepository.findById(id)
                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Book&quot;, id));

        return ResponseEntity.ok(this.bookMapper.toDto(book));
    }

    // ...
}
</div><ol class="list _decimal"></ol></section></section><section class="chapter"><h2 id="documenter-les-mod-les-dtos" data-toc="documenter-les-mod-les-dtos">Documenter les Mod&egrave;les (DTOs)</h2><p id="lb3h7r_81">Nous pouvons &eacute;galement ajouter des descriptions &agrave; nos DTOs pour que les d&eacute;veloppeurs comprennent la signification de chaque champ.</p><section class="procedure-steps"><h3 id="lb3h7r_82" data-toc="lb3h7r_82">Ajout de descriptions au BookDto</h3><p id="lb3h7r_85">Utilisez l'annotation <code class="code" id="lb3h7r_87">@Schema</code> sur les champs de votre DTO.</p><div class="code-block" data-lang="java">
// Dans BookDto.java

import io.swagger.v3.oas.annotations.media.Schema;

//...
@Data
@Schema(description = &quot;Représentation d'un livre dans le système.&quot;)
public class BookDto {
    @Schema(description = &quot;Identifiant unique du livre, généré par la base de données.&quot;,
            example = &quot;1&quot;)
    private Long id;

    @Schema(description = &quot;Titre complet du livre.&quot;,
            example = &quot;Harry Potter and the Sorcerer's Stone&quot;)
    private String title;

    @Schema(description = &quot;Numéro ISBN-13 unique du livre.&quot;,
            example = &quot;978-0439708180&quot;)
    private String isbn;

    // ...
}
</div><ol class="list _decimal"></ol></section><p id="lb3h7r_83">Apr&egrave;s avoir ajout&eacute; ces annotations et recharg&eacute; votre application (ou juste rafra&icirc;chi la page <code class="code" id="lb3h7r_88">swagger-ui.html</code>), vous verrez que la documentation est devenue bien plus riche et utile. Les descriptions et exemples apparaissent, rendant votre API beaucoup plus facile &agrave; comprendre.</p><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="397px" preserveAspectRatio="none" style="width:738px;height:397px;background:#FFFFFF;" version="1.1" viewBox="0 0 738 397" width="738px" zoomAndPan="magnify"><defs/><g><!--cluster Code Source--><g id="cluster_Code Source"><path d="M8.5,6 L97.5,6 A3.75,3.75 0 0 1 100,8.5 L107,28.4883 L312.5,28.4883 A2.5,2.5 0 0 1 315,30.9883 L315,100.98 A2.5,2.5 0 0 1 312.5,103.48 L8.5,103.48 A2.5,2.5 0 0 1 6,100.98 L6,8.5 A2.5,2.5 0 0 1 8.5,6 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="107" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="88" x="10" y="21.5352">Code Source</text></g><!--cluster Compilation / Runtime--><g id="cluster_Compilation / Runtime"><path d="M76.5,152.48 L245.5,152.48 A3.75,3.75 0 0 1 248,154.98 L255,174.9683 L277.5,174.9683 A2.5,2.5 0 0 1 280,177.4683 L280,247.47 A2.5,2.5 0 0 1 277.5,249.97 L76.5,249.97 A2.5,2.5 0 0 1 74,247.47 L74,154.98 A2.5,2.5 0 0 1 76.5,152.48 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="74" x2="255" y1="174.9683" y2="174.9683"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="168" x="78" y="168.0152">Compilation / Runtime</text></g><!--cluster Artefacts G?n?r?s--><g id="cluster_Artefacts G&#233;n&#233;r&#233;s"><path d="M328.5,152.48 L456.5,152.48 A3.75,3.75 0 0 1 459,154.98 L466,174.9683 L489.5,174.9683 A2.5,2.5 0 0 1 492,177.4683 L492,387.96 A2.5,2.5 0 0 1 489.5,390.46 L328.5,390.46 A2.5,2.5 0 0 1 326,387.96 L326,154.98 A2.5,2.5 0 0 1 328.5,152.48 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="326" x2="466" y1="174.9683" y2="174.9683"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="127" x="330" y="168.0152">Artefacts G&#233;n&#233;r&#233;s</text></g><!--entity BookController--><g id="elem_BookController"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="22" y="41"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="146" y="46"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="144" y="48"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="144" y="52"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="37" y="74.5352">BookController</text></g><!--entity BookDto--><g id="elem_BookDto"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="201" y="41"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="279" y="46"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="277" y="48"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="277" y="52"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="216" y="74.5352">BookDto</text></g><!--entity Lib--><g id="elem_Lib"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="90.5" y="187.48"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="243.5" y="192.48"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="241.5" y="194.48"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="241.5" y="198.48"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="105.5" y="221.0152">springdoc-openapi</text></g><!--entity JsonSpec--><g id="elem_JsonSpec"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="342" y="187.48"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="456" y="192.48"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="454" y="194.48"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="454" y="198.48"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="357" y="221.0152">api-docs.json</text></g><!--entity UI--><g id="elem_UI"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="350.5" y="327.97"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="447.5" y="332.97"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="445.5" y="334.97"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="445.5" y="338.97"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="365.5" y="361.5052">Swagger UI</text></g><!--entity Developer--><g id="elem_Developer"><ellipse cx="697" cy="321.47" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M697,329.47 L697,356.47 M684,337.47 L710,337.47 M697,356.47 L684,371.47 M697,356.47 L710,371.47 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="662.5" y="386.5052">Developer</text></g><!--link BookController to Lib--><g id="link_BookController_Lib"><path d="M98.1,87.67 C101.35,102.19 106.74,121.16 115,136.48 C125.12,155.25 133.7238,166.3182 146.6938,179.9382 " fill="none" id="BookController-to-Lib" style="stroke:#181818;stroke-width:1.0;"/><path d="M157.5918,179.1186 A9,9 0 0 0 145.3427 190.7831" fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="116" y="133.0484">est scann&#233; par</text></g><!--link BookDto to Lib--><g id="link_BookDto_Lib"><path d="M238.59,87.82 C224.88,114.96 206.5077,151.3136 192.8377,178.3836 " fill="none" id="BookDto-to-Lib" style="stroke:#181818;stroke-width:1.0;"/><path d="M197.2668,188.3746 A9,9 0 0 0 182.1683 180.75" fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="223.19" y="133.0484">est scann&#233; par</text></g><!--link Lib to JsonSpec--><g id="link_Lib_JsonSpec"><path d="M263.72,210.73 C289.46,210.73 311.26,210.73 335.58,210.73 " fill="none" id="Lib-to-JsonSpec" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="341.58,210.73,332.58,206.73,336.58,210.73,332.58,214.73,341.58,210.73" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="281.75" y="204.2984">g&#233;n&#232;re</text></g><!--link JsonSpec to UI--><g id="link_JsonSpec_UI"><path d="M409,234.29 C409,260.04 409,291.92 409,317.67 " fill="none" id="JsonSpec-to-UI" style="stroke:#181818;stroke-width:1.0;"/><path d="M417.4572,324.5918 A9,9 0 0 0 400.5428 324.5918" fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="410" y="279.5384">est lu par</text></g><!--link Developer to UI--><g id="link_Developer_UI"><path d="M662.08,351.22 C613.91,351.22 532.4,351.22 473.98,351.22 " fill="none" id="Developer-to-UI" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="467.98,351.22,476.98,355.22,472.98,351.22,476.98,347.22,467.98,351.22" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="485.5" y="344.7884">consulte et interagit avec</text></g><!--SRC=[VOynJWCn44LxdsBaYcQXfq22H491LAosGbiOPx1C78yrdWq5uZxiEVPYs4bsKHgwqVp_t_n9nkwCGz0hsYAqDB153LyAuFM1QBUYA4mX8FVpQYtKgs-bqbzodtmmuYd23RmCKVn-PkJ4FhejsOOIHfDy3oR3it-x8DopuBknak5n6kCqyZJcCw14cXBFrn-PuZ7yL8OseQrg-scSGuPkSvIwJSKM436iyO2X76MbBX-1fhcg3U0MD6Q1R4qiDo4PrkhyuByULONcRYbIJQxs_c7KQjbMHBUP2M4uXPTQbN2IBSKy14500Hy5sJWlO0vezIy0]--></g></svg></div></section><section class="chapter"><h2 id="exercice-7-documenter-l-api-des-auteurs" data-toc="exercice-7-documenter-l-api-des-auteurs">Exercice 7 : Documenter l'API des Auteurs</h2><p id="lb3h7r_89">Mettez en pratique ce que vous venez d'apprendre pour documenter enti&egrave;rement l'API des auteurs.</p><p id="lb3h7r_90"><span class="control" id="lb3h7r_92">&Eacute;nonc&eacute; :</span></p><ol class="list _decimal" id="lb3h7r_91" type="1"><li class="list__item" id="lb3h7r_93"><p id="lb3h7r_97">Ajoutez une annotation <code class="code" id="lb3h7r_98">@Tag</code> sur <code class="code" id="lb3h7r_99">AuthorController</code> pour le grouper sous le nom &quot;Auteurs&quot;.</p></li><li class="list__item" id="lb3h7r_94"><p id="lb3h7r_100">Pour la m&eacute;thode de cr&eacute;ation d'un auteur (<code class="code" id="lb3h7r_102">createAuthor</code>), ajoutez :</p><ul class="list _bullet" id="lb3h7r_101"><li class="list__item" id="lb3h7r_103"><p id="lb3h7r_105">Une annotation <code class="code" id="lb3h7r_106">@Operation</code> avec un r&eacute;sum&eacute; et une description clairs.</p></li><li class="list__item" id="lb3h7r_104"><p id="lb3h7r_107">Une annotation <code class="code" id="lb3h7r_108">@ApiResponses</code> pour documenter les r&eacute;ponses <code class="code" id="lb3h7r_109">201 Created</code>, <code class="code" id="lb3h7r_110">400 Bad Request</code> (erreur de validation) et <code class="code" id="lb3h7r_111">409 Conflict</code> (si l'auteur existe d&eacute;j&agrave;, m&ecirc;me si nous ne l'avons pas impl&eacute;ment&eacute;, c'est une bonne pratique de le pr&eacute;voir).</p></li></ul></li><li class="list__item" id="lb3h7r_95"><p id="lb3h7r_112">Dans les DTOs <code class="code" id="lb3h7r_113">AuthorDto</code> et <code class="code" id="lb3h7r_114">AuthorSaveDto</code>, ajoutez des annotations <code class="code" id="lb3h7r_115">@Schema</code> sur la classe et sur chaque champ pour les d&eacute;crire et donner des exemples.</p></li><li class="list__item" id="lb3h7r_96"><p id="lb3h7r_116">Relancez l'application et v&eacute;rifiez le r&eacute;sultat dans Swagger UI.</p></li></ol></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="correction-exercice-7" data-toc="correction-exercice-7">Correction exercice 7</h2></div><div class="collapse__content"><p id="lb3h7r_117"><span class="control" id="lb3h7r_123">1. <code class="code" id="lb3h7r_124">AuthorController.java</code> avec la documentation</span></p><div class="code-block" data-lang="java">
// package fr.formation.spring.bibliotech.api;

import io.swagger.v3.oas.annotations.Operation;
import io.swagger.v3.oas.annotations.responses.ApiResponse;
import io.swagger.v3.oas.annotations.responses.ApiResponses;
import io.swagger.v3.oas.annotations.tags.Tag;
import io.swagger.v3.oas.annotations.media.Content;
import io.swagger.v3.oas.annotations.media.Schema;
// ... autres imports

@Tag(name = &quot;Auteurs&quot;, description = &quot;API pour la gestion des auteurs&quot;)
@RestController
@RequestMapping(&quot;/api/authors&quot;)
public class AuthorController {
    // ...

    @Operation(summary = &quot;Crée un nouvel auteur&quot;,
            description = &quot;Ajoute un nouvel auteur à la base de données. Le prénom et le nom sont requis.&quot;)
    @ApiResponses(value = {
            @ApiResponse(responseCode = &quot;201&quot;, description = &quot;Auteur créé avec succès&quot;,
                    content = @Content(mediaType = &quot;application/json&quot;,
                            schema = @Schema(implementation = AuthorDto.class))),
            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Données d'entrée invalides&quot;,
                    content = @Content(mediaType = &quot;application/json&quot;,
                            schema = @Schema(implementation = ErrorDto.class))),
            @ApiResponse(responseCode = &quot;409&quot;, description = &quot;Un auteur avec ce nom existe déjà&quot;,
                    content = @Content)
    })
    @PostMapping
    public ResponseEntity&lt;AuthorDto&gt; createAuthor(@Valid @RequestBody AuthorSaveDto authorDto) {
        // ... code de la méthode
    }
    // ... reste du contrôleur
}
</div><p id="lb3h7r_119"><span class="control" id="lb3h7r_125">2. DTOs <code class="code" id="lb3h7r_127">AuthorDto.java</code> et <code class="code" id="lb3h7r_128">AuthorSaveDto.java</code> document&eacute;s</span> <code class="code" id="lb3h7r_126">AuthorDto.java</code></p><div class="code-block" data-lang="java">
// package fr.formation.spring.bibliotech.api.dto;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.Data;

@Data
@Schema(description = &quot;Représentation d'un auteur après création.&quot;)
public class AuthorDto {
    @Schema(description = &quot;ID unique de l'auteur.&quot;, example = &quot;1&quot;)
    private Long id;

    @Schema(description = &quot;Prénom de l'auteur.&quot;, example = &quot;George&quot;)
    private String firstName;

    @Schema(description = &quot;Nom de famille de l'auteur.&quot;, example = &quot;Orwell&quot;)
    private String lastName;
}
</div><p id="lb3h7r_121"><code class="code" id="lb3h7r_129">AuthorSaveDto.java</code></p><div class="code-block" data-lang="java">
// package fr.formation.spring.bibliotech.api.dto;

import io.swagger.v3.oas.annotations.media.Schema;
import jakarta.validation.constraints.NotBlank;
import lombok.Data;

@Data
@Schema(description = &quot;Données requises pour créer ou mettre à jour un auteur.&quot;)
public class AuthorSaveDto {
    @NotBlank(message = &quot;Le prénom ne peut pas être vide.&quot;)
    @Schema(description = &quot;Prénom de l'auteur.&quot;, requiredMode = Schema.RequiredMode.REQUIRED, example = &quot;George&quot;)
    private String firstName;

    @NotBlank(message = &quot;Le nom ne peut pas être vide.&quot;)
    @Schema(description = &quot;Nom de famille de l'auteur.&quot;, requiredMode = Schema.RequiredMode.REQUIRED, example = &quot;Orwell&quot;)
    private String lastName;
}
</div></div></div></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><ol class="list _decimal" id="lb3h7r_130" type="1"><li class="list__item" id="lb3h7r_131"><p id="lb3h7r_136"><span class="control" id="lb3h7r_137">(QCM)</span> Quelle d&eacute;pendance Maven est la plus simple &agrave; utiliser pour int&eacute;grer OpenAPI 3 et Swagger UI dans un projet Spring Boot ? a) <code class="code" id="lb3h7r_138">swagger-core</code> b) <code class="code" id="lb3h7r_139">springfox-boot-starter</code> c) <code class="code" id="lb3h7r_140">springdoc-openapi-starter-webmvc-ui</code> d) <code class="code" id="lb3h7r_141">openapi-generator-maven-plugin</code></p></li><li class="list__item" id="lb3h7r_132"><p id="lb3h7r_142"><span class="control" id="lb3h7r_143">_ (Question ouverte)_</span> Une fois <code class="code" id="lb3h7r_144">springdoc-openapi</code> ajout&eacute; &agrave; votre projet, &agrave; quelle URL pouvez-vous acc&eacute;der pour voir l'interface utilisateur interactive de la documentation ?</p></li><li class="list__item" id="lb3h7r_133"><p id="lb3h7r_145"><span class="control" id="lb3h7r_146">(QCM)</span> Quelle annotation est utilis&eacute;e pour fournir un r&eacute;sum&eacute; et une description d'un endpoint sp&eacute;cifique ? a) <code class="code" id="lb3h7r_147">@Tag</code> b) <code class="code" id="lb3h7r_148">@Schema</code> c) <code class="code" id="lb3h7r_149">@Description</code> d) <code class="code" id="lb3h7r_150">@Operation</code></p></li><li class="list__item" id="lb3h7r_134"><p id="lb3h7r_151"><span class="control" id="lb3h7r_152">_ (Question ouverte)_</span> Expliquez en une phrase l'int&eacute;r&ecirc;t de l'annotation <code class="code" id="lb3h7r_153">@Schema</code> sur les champs d'un DTO.</p></li><li class="list__item" id="lb3h7r_135"><p id="lb3h7r_154"><span class="control" id="lb3h7r_155">_ (Question ouverte)_</span> <code class="code" id="lb3h7r_156">springdoc-openapi</code> est capable de d&eacute;duire beaucoup d'informations tout seul. Citez au moins trois &eacute;l&eacute;ments de votre code qu'il analyse pour g&eacute;n&eacute;rer la documentation de base.</p></li></ol></section><section class="chapter"><h2 id="conclusion" data-toc="conclusion">Conclusion</h2><p id="lb3h7r_157">Vous venez de construire un pont essentiel entre votre API et ses utilisateurs. Une API bien document&eacute;e est une API qui sera adopt&eacute;e, bien utilis&eacute;e et appr&eacute;ci&eacute;e. Gr&acirc;ce &agrave; <code class="code" id="lb3h7r_159">springdoc-openapi</code>, cette documentation n'est plus une corv&eacute;e &agrave; maintenir, mais une partie vivante de votre code, qui &eacute;volue avec lui. Vous avez appris &agrave; g&eacute;n&eacute;rer une documentation de base sans effort, puis &agrave; l'enrichir pour la rendre exceptionnellement claire et utile.</p><p id="lb3h7r_158">Maintenant que votre API est compl&egrave;te, robuste et bien document&eacute;e, nous pouvons explorer des concepts plus avanc&eacute;s. Dans la partie &quot;Pour aller plus loin&quot;, nous verrons comment configurer globalement notre documentation et comment utiliser des annotations pour affiner encore plus la description de nos API.</p></section><div class="last-modified">14 juin 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="003-00-error-management.html" class="navigation-links__prev">Chapitre 4 : La Gestion des Erreurs - L'Essentiel</a><a href="004-01-advanced-open-api.html" class="navigation-links__next">Chapitre 5 : Documentation des API avec OpenAPI - L'Essentiel</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>