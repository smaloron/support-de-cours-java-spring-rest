<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-06-29T10:33:15.359604"><title>Conseils et Bonnes Pratiques | Help Instance</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs P√©dagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-le-guide-du-bon-artisan","level":0,"title":"Introduction : Le Guide du Bon Artisan","anchor":"#introduction-le-guide-du-bon-artisan"},{"id":"1-conventions-de-nommage-des-uris","level":0,"title":"1. Conventions de Nommage des URIs","anchor":"#1-conventions-de-nommage-des-uris"},{"id":"2-structure-du-projet","level":0,"title":"2. Structure du Projet","anchor":"#2-structure-du-projet"},{"id":"3-gestion-des-versions-versioning","level":0,"title":"3. Gestion des Versions (Versioning)","anchor":"#3-gestion-des-versions-versioning"},{"id":"4-gardez-vos-contr-leurs-maigres-skinny-controllers","level":0,"title":"4. Gardez vos Contr√¥leurs \"maigres\" (Skinny Controllers)","anchor":"#4-gardez-vos-contr-leurs-maigres-skinny-controllers"},{"id":"5-anti-patterns-viter","level":0,"title":"5. Anti-Patterns √† √âviter","anchor":"#5-anti-patterns-viter"},{"id":"conclusion","level":0,"title":"Conclusion","anchor":"#conclusion"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Conseils et Bonnes Pratiques | Help Instance"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Help Instance Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/006-00-best-practices.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Conseils et Bonnes Pratiques | Help Instance"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/006-00-best-practices.html#webpage",
    "url": "writerside-documentation/006-00-best-practices.html",
    "name": "Conseils et Bonnes Pratiques | Help Instance",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Help Instance Help"
}</script><!-- End Schema.org --></head><body data-id="006-00-best-practices" data-main-title="Conseils et Bonnes Pratiques" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Help Instance  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="006-00-best-practices" id="006-00-best-practices.md">Conseils et Bonnes Pratiques</h1><p id="-r4ksfc_3">F&eacute;licitations ! Vous avez parcouru un long chemin et ma&icirc;trisez maintenant les outils et les concepts pour construire des API REST robustes avec Spring Boot. Mais comme pour tout artisan, conna&icirc;tre ses outils n'est que la moiti&eacute; du travail. L'autre moiti&eacute; est de savoir quand et comment les utiliser avec sagesse et discernement. Cette section est une bo&icirc;te &agrave; outils de conseils et de bonnes pratiques issus de l'exp&eacute;rience du terrain.</p><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs P&eacute;dagogiques</h2><p id="-r4ksfc_12">&Agrave; la fin de cette partie, vous serez capable de :</p><ul class="list _bullet" id="-r4ksfc_13"><li class="list__item" id="-r4ksfc_14"><p id="-r4ksfc_19">Identifier et appliquer les conventions de nommage REST pour les URIs.</p></li><li class="list__item" id="-r4ksfc_15"><p id="-r4ksfc_20">Structurer votre projet de mani&egrave;re logique et &eacute;volutive.</p></li><li class="list__item" id="-r4ksfc_16"><p id="-r4ksfc_21">Comprendre l'importance de la gestion des versions de votre API.</p></li><li class="list__item" id="-r4ksfc_17"><p id="-r4ksfc_22">Appliquer des principes pour &eacute;crire un code de contr&ocirc;leur propre et concis.</p></li><li class="list__item" id="-r4ksfc_18"><p id="-r4ksfc_23">Reconna&icirc;tre les anti-patterns courants et savoir comment les &eacute;viter.</p></li></ul></section><section class="chapter"><h2 id="introduction-le-guide-du-bon-artisan" data-toc="introduction-le-guide-du-bon-artisan">Introduction : Le Guide du Bon Artisan</h2><p id="-r4ksfc_24">Vous &ecirc;tes maintenant un constructeur de ponts (d'API). Vous savez comment poser les fondations (le projet Spring), &eacute;riger les piliers (les contr&ocirc;leurs), construire le tablier (les endpoints CRUD) et m&ecirc;me ajouter des finitions comme les garde-fous (gestion des erreurs) et la signalisation (documentation).</p><p id="-r4ksfc_25">Mais comment s'assurer que votre pont est non seulement solide, mais aussi &eacute;l&eacute;gant, facile &agrave; traverser et simple &agrave; entretenir ? C'est une question de m&eacute;tier, de respect des conventions et de bonnes habitudes. Ces conseils sont l&agrave; pour vous aider &agrave; passer de &quot;constructeur fonctionnel&quot; &agrave; &quot;architecte d'API respect&eacute;&quot;.</p></section><section class="chapter"><h2 id="1-conventions-de-nommage-des-uris" data-toc="1-conventions-de-nommage-des-uris">1. Conventions de Nommage des URIs</h2><p id="-r4ksfc_26">La clart&eacute; de vos URIs est la premi&egrave;re chose que les d&eacute;veloppeurs verront. Des URIs bien con&ccedil;ues sont auto-descriptives.</p><ul class="list _bullet" id="-r4ksfc_27"><li class="list__item" id="-r4ksfc_28"><p id="-r4ksfc_32"><span class="control" id="-r4ksfc_34">Utilisez des noms (substantifs), pas des verbes.</span></p><ul class="list _bullet" id="-r4ksfc_33"><li class="list__item" id="-r4ksfc_35"><p id="-r4ksfc_37">üëç <span class="control" id="-r4ksfc_38">Bien :</span> <code class="code" id="-r4ksfc_39">GET /api/books</code></p></li><li class="list__item" id="-r4ksfc_36"><p id="-r4ksfc_40">üëé <span class="control" id="-r4ksfc_41">Mal :</span> <code class="code" id="-r4ksfc_42">GET /api/getAllBooks</code> Le verbe est dans la m&eacute;thode HTTP (GET, POST, ...). L'URI identifie la ressource.</p></li></ul></li><li class="list__item" id="-r4ksfc_29"><p id="-r4ksfc_43"><span class="control" id="-r4ksfc_45">Utilisez le pluriel pour les collections.</span></p><ul class="list _bullet" id="-r4ksfc_44"><li class="list__item" id="-r4ksfc_46"><p id="-r4ksfc_48">üëç <span class="control" id="-r4ksfc_49">Bien :</span> <code class="code" id="-r4ksfc_50">/api/books</code>, <code class="code" id="-r4ksfc_51">/api/authors</code></p></li><li class="list__item" id="-r4ksfc_47"><p id="-r4ksfc_52">üëé <span class="control" id="-r4ksfc_53">Mal :</span> <code class="code" id="-r4ksfc_54">/api/book</code>, <code class="code" id="-r4ksfc_55">/api/author</code> C'est intuitif : <code class="code" id="-r4ksfc_56">/books</code> est la collection de tous les livres. <code class="code" id="-r4ksfc_57">/books/1</code> est un livre sp&eacute;cifique au sein de cette collection.</p></li></ul></li><li class="list__item" id="-r4ksfc_30"><p id="-r4ksfc_58"><span class="control" id="-r4ksfc_60">Utilisez des minuscules et des tirets (<code class="code" id="-r4ksfc_61">-</code>) pour la lisibilit&eacute;.</span></p><ul class="list _bullet" id="-r4ksfc_59"><li class="list__item" id="-r4ksfc_62"><p id="-r4ksfc_64">üëç <span class="control" id="-r4ksfc_65">Bien :</span> <code class="code" id="-r4ksfc_66">/api/best-sellers</code></p></li><li class="list__item" id="-r4ksfc_63"><p id="-r4ksfc_67">üëé <span class="control" id="-r4ksfc_68">Mal :</span> <code class="code" id="-r4ksfc_69">/api/bestSellers</code> ou <code class="code" id="-r4ksfc_70">/api/Best_Sellers</code> Les tirets sont pr&eacute;f&eacute;r&eacute;s aux underscores ou au camelCase pour des raisons historiques et de compatibilit&eacute;.</p></li></ul></li><li class="list__item" id="-r4ksfc_31"><p id="-r4ksfc_71"><span class="control" id="-r4ksfc_73">Pr&eacute;fixez vos URIs avec une version.</span></p><ul class="list _bullet" id="-r4ksfc_72"><li class="list__item" id="-r4ksfc_74"><p id="-r4ksfc_76">üëç <span class="control" id="-r4ksfc_77">Bien :</span> <code class="code" id="-r4ksfc_78">/api/v1/books</code></p></li><li class="list__item" id="-r4ksfc_75"><p id="-r4ksfc_79">üëé <span class="control" id="-r4ksfc_80">Mal :</span> <code class="code" id="-r4ksfc_81">/api/books</code> Nous y reviendrons, mais versionner votre API d&egrave;s le d&eacute;but est une pratique salutaire.</p></li></ul></li></ul></section><section class="chapter"><h2 id="2-structure-du-projet" data-toc="2-structure-du-projet">2. Structure du Projet</h2><p id="-r4ksfc_82">Une structure de package claire rend votre projet plus facile &agrave; naviguer et &agrave; maintenir. La structure que nous avons utilis&eacute;e est un bon point de d&eacute;part, bas&eacute;e sur les couches techniques.</p><div class="code-block" data-lang="none">
fr.formation.spring.bibliotech
‚îú‚îÄ‚îÄ api
‚îÇ   ‚îú‚îÄ‚îÄ dto
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BookDto.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BookSaveDto.java
‚îÇ   ‚îú‚îÄ‚îÄ errors
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RestExceptionHandler.java
‚îÇ   ‚îú‚îÄ‚îÄ mapper
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BookMapper.java
‚îÇ   ‚îî‚îÄ‚îÄ BookController.java
‚îú‚îÄ‚îÄ config
‚îÇ   ‚îú‚îÄ‚îÄ DataSeeder.java
‚îÇ   ‚îî‚îÄ‚îÄ OpenApiConfig.java
‚îú‚îÄ‚îÄ dal
‚îÇ   ‚îú‚îÄ‚îÄ entities
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Book.java
‚îÇ   ‚îú‚îÄ‚îÄ repositories
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BookRepository.java
‚îÇ   ‚îî‚îÄ‚îÄ spec
‚îÇ       ‚îî‚îÄ‚îÄ BookSpecification.java
‚îî‚îÄ‚îÄ exceptions
    ‚îî‚îÄ‚îÄ ResourceNotFoundException.java
</div><aside class="prompt" data-type="note" data-title="Alternative : Structurer par fonctionnalit√© (Feature)" id="-r4ksfc_84"><p id="-r4ksfc_85">Pour les tr&egrave;s grands projets, une structure par fonctionnalit&eacute; peut &ecirc;tre plus adapt&eacute;e. Chaque fonctionnalit&eacute; m&eacute;tier (livres, auteurs, emprunts) a son propre package contenant ses contr&ocirc;leurs, DTOs, services, etc.</p><p> fr.formation.spring.bibliotech ‚îú‚îÄ‚îÄ book ‚îÇ ‚îú‚îÄ‚îÄ BookController.java ‚îÇ ‚îú‚îÄ‚îÄ BookDto.java ‚îÇ ‚îú‚îÄ‚îÄ Book.java ‚îÇ ‚îî‚îÄ‚îÄ BookRepository.java ‚îú‚îÄ‚îÄ author ‚îÇ ‚îú‚îÄ‚îÄ AuthorController.java ‚îÇ ‚îî‚îÄ‚îÄ ... Cette approche am&eacute;liore la coh&eacute;sion, mais peut &ecirc;tre excessive pour des projets de taille moyenne.</p></aside></section><section class="chapter"><h2 id="3-gestion-des-versions-versioning" data-toc="3-gestion-des-versions-versioning">3. Gestion des Versions (Versioning)</h2><p id="-r4ksfc_86">Votre API va &eacute;voluer. Vous allez ajouter des champs, en supprimer, changer des logiques. Ces changements peuvent &quot; casser&quot; les applications clientes qui utilisent une version plus ancienne de votre API. Il est donc crucial de versionner votre API.</p><p id="-r4ksfc_87">La m&eacute;thode la plus courante et la plus claire est <span class="control" id="-r4ksfc_92">l'inclusion de la version dans l'URI</span>.</p><p id="-r4ksfc_88"><span class="control" id="-r4ksfc_93">URI :</span> <code class="code" id="-r4ksfc_94">/api/v1/books</code>, <code class="code" id="-r4ksfc_95">/api/v2/books</code></p><p id="-r4ksfc_89"><span class="control" id="-r4ksfc_96">Comment l'impl&eacute;menter ?</span> Le plus simple est d'ajouter le pr&eacute;fixe de version dans l'annotation <code class="code" id="-r4ksfc_97">@RequestMapping</code> de vos contr&ocirc;leurs.</p><div class="code-block" data-lang="java">

@RestController
@RequestMapping(&quot;/api/v1/books&quot;)
public class BookControllerV1 {
    // ...
}
</div><p id="-r4ksfc_91">Quand vous devez introduire un changement non r&eacute;tro-compatible (un &quot;breaking change&quot;), vous ne modifiez pas le <code class="code" id="-r4ksfc_98">BookControllerV1</code>. Vous cr&eacute;ez une copie, <code class="code" id="-r4ksfc_99">BookControllerV2</code>, que vous mappez sur <code class="code" id="-r4ksfc_100">/api/v2/books</code>, et vous y appliquez vos modifications. Les anciens clients peuvent continuer &agrave; utiliser la V1, tandis que les nouveaux clients peuvent utiliser la V2.</p></section><section class="chapter"><h2 id="4-gardez-vos-contr-leurs-maigres-skinny-controllers" data-toc="4-gardez-vos-contr-leurs-maigres-skinny-controllers">4. Gardez vos Contr&ocirc;leurs &quot;maigres&quot; (Skinny Controllers)</h2><p id="-r4ksfc_101">Le r&ocirc;le d'un contr&ocirc;leur est d'&ecirc;tre un <span class="control" id="-r4ksfc_105">chef d'orchestre</span>, pas de jouer de tous les instruments. Il doit :</p><ol class="list _decimal" id="-r4ksfc_102" type="1"><li class="list__item" id="-r4ksfc_106"><p id="-r4ksfc_111">Recevoir la requ&ecirc;te HTTP.</p></li><li class="list__item" id="-r4ksfc_107"><p id="-r4ksfc_112">Valider les donn&eacute;es d'entr&eacute;e.</p></li><li class="list__item" id="-r4ksfc_108"><p id="-r4ksfc_113">Appeler la couche de service pour ex&eacute;cuter la logique m&eacute;tier.</p></li><li class="list__item" id="-r4ksfc_109"><p id="-r4ksfc_114">Mapper le r&eacute;sultat en DTO.</p></li><li class="list__item" id="-r4ksfc_110"><p id="-r4ksfc_115">Construire et renvoyer la r&eacute;ponse HTTP.</p></li></ol><p id="-r4ksfc_103"><span class="control" id="-r4ksfc_116">Toute la logique m&eacute;tier complexe ne doit PAS &ecirc;tre dans le contr&ocirc;leur.</span> Elle doit &ecirc;tre d&eacute;l&eacute;gu&eacute;e &agrave; une couche de service (<code class="code" id="-r4ksfc_117">@Service</code>).</p><section class="procedure-steps"><h3 id="-r4ksfc_104" data-toc="-r4ksfc_104">Exemple avec une couche Service</h3><ol class="list _decimal" id="-r4ksfc_118" type="1"><li class="list__item" id="-r4ksfc_123"><p id="-r4ksfc_124"><span class="control" id="-r4ksfc_125">Cr&eacute;ez un <code class="code" id="-r4ksfc_126">BookService.java</code></span></p></li></ol><div class="code-block" data-lang="java">
// package fr.formation.spring.bibliotech.services;

import org.springframework.stereotype.Service;
//...

@Service
public class BookService {
    private final BookRepository bookRepository;

    // Constructeur...

    public Book archiveBook(Long id) {
        Book book = bookRepository.findById(id)
                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Book&quot;, id));

        if (book.isArchived()) {
            throw new IllegalStateException(&quot;Le livre est d√©j√† archiv√©.&quot;);
        }
        // ... autre logique m√©tier complexe ...

        book.setArchived(true);
        return bookRepository.save(book);
    }
}
</div><ol class="list _decimal" id="-r4ksfc_120" type="1" start="2"><li class="list__item" id="-r4ksfc_127"><p id="-r4ksfc_128"><span class="control" id="-r4ksfc_129">Simplifiez le contr&ocirc;leur</span></p></li></ol><div class="code-block" data-lang="java">
// Dans BookController.java
// ...
public class BookController {
    private final BookService bookService; // On injecte le service
    // ...

    @PostMapping(&quot;/{id}/archive&quot;)
    public ResponseEntity&lt;Void&gt; archiveBook(@PathVariable Long id) {
        this.bookService.archiveBook(id); // On d√©l√®gue !
        return ResponseEntity.noContent().build();
    }
}
</div><p id="-r4ksfc_122">Le contr&ocirc;leur est maintenant bien plus simple et focalis&eacute; sur son r&ocirc;le de gestionnaire de requ&ecirc;tes HTTP.</p><ol class="list _decimal"></ol></section></section><section class="chapter"><h2 id="5-anti-patterns-viter" data-toc="5-anti-patterns-viter">5. Anti-Patterns &agrave; &Eacute;viter</h2><ul class="list _bullet" id="-r4ksfc_130"><li class="list__item" id="-r4ksfc_131"><p id="-r4ksfc_135"><span class="control" id="-r4ksfc_136">Le &quot;Fat DTO&quot; :</span> Utiliser le m&ecirc;me DTO pour la lecture, la cr&eacute;ation et la mise &agrave; jour. Nous avons d&eacute;j&agrave; vu pourquoi c'est une mauvaise id&eacute;e. S&eacute;parez les DTOs par cas d'usage.</p></li><li class="list__item" id="-r4ksfc_132"><p id="-r4ksfc_137"><span class="control" id="-r4ksfc_138">Ignorer les Codes de Statut HTTP :</span> Toujours renvoyer <code class="code" id="-r4ksfc_139">200 OK</code>, m&ecirc;me en cas d'erreur, avec un champ <code class="code" id="-r4ksfc_140">{&quot;success&quot;: false}</code> dans le JSON. C'est un anti-pattern majeur. Utilisez toute la richesse des codes de statut (201, 204, 400, 404, 409, etc.) pour communiquer l'&eacute;tat de l'op&eacute;ration.</p></li><li class="list__item" id="-r4ksfc_133"><p id="-r4ksfc_141"><span class="control" id="-r4ksfc_142">Exposer les IDs de la base de donn&eacute;es partout :</span> Pour les ressources publiques, il peut &ecirc;tre pr&eacute;f&eacute;rable d'utiliser un identifiant public (comme un UUID) dans l'API, diff&eacute;rent de la cl&eacute; primaire auto-incr&eacute;ment&eacute;e de la base. Cela &eacute;vite de donner des informations sur le nombre d'enregistrements et pr&eacute;vient les attaques par &eacute;num&eacute;ration.</p></li><li class="list__item" id="-r4ksfc_134"><p id="-r4ksfc_143"><span class="control" id="-r4ksfc_144">R&eacute;ponses &quot;bavardes&quot; :</span> N'envoyez que les donn&eacute;es dont le client a besoin pour un cas d'usage donn&eacute;. Par exemple, une liste de livres (<code class="code" id="-r4ksfc_145">GET /api/books</code>) n'a peut-&ecirc;tre pas besoin de tous les d&eacute;tails de chaque livre. Vous pourriez avoir un <code class="code" id="-r4ksfc_146">BookSummaryDto</code> pour les listes et un <code class="code" id="-r4ksfc_147">BookDetailDto</code> pour la vue d&eacute;taill&eacute;e.</p></li></ul></section><section class="chapter"><h2 id="conclusion" data-toc="conclusion">Conclusion</h2><p id="-r4ksfc_148">Ces conseils ne sont pas des r&egrave;gles absolues, mais des guides &eacute;prouv&eacute;s qui vous aideront &agrave; &eacute;crire des API REST meilleures, plus propres et plus maintenables. La cl&eacute; est la <span class="control" id="-r4ksfc_150">coh&eacute;rence</span> et <span class="control" id="-r4ksfc_151">l'empathie</span> envers le d&eacute;veloppeur qui utilisera votre API. Pensez &agrave; lui : rendez-lui la vie facile avec des URIs claires, des r&eacute;ponses pr&eacute;visibles et une structure logique.</p><p id="-r4ksfc_149">En appliquant ces principes, vous ne cr&eacute;erez pas seulement des API qui fonctionnent, mais des API que les gens aimeront utiliser. C'est la marque d'un v&eacute;ritable professionnel. Dans la section suivante, nous verrons quelques exemples d'applications concr&egrave;tes o&ugrave; ces concepts prennent tout leur sens.</p></section><div class="last-modified">14 juin 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="004-01-advanced-open-api.html" class="navigation-links__prev">Chapitre 6 : Configuration Avanc&eacute;e d'OpenAPI - Pour aller plus loin</a><a href="006-00-typical-app-examples.html" class="navigation-links__next">Exemples d'Applications Types</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>